<!DOCTYPE html>
<html lang="zxx">
  <!-- Mirrored from demo.dashboardpack.com/user-management-html/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 May 2023 06:41:51 GMT -->
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Timeless Drive</title>
    <link rel="icon" href="../../user_assets/img/logo.png" type="image/png" />

    <link rel="stylesheet" href="../../admin_assets/css/bootstrap1.min.css" />

    <link rel="stylesheet" href="../../admin_assets/vendors/themefy_icon/themify-icons.css" />


    <link rel="stylesheet" href="../../admin_assets/vendors/owl_carousel/css/owl.carousel.css" />

    <link rel="stylesheet" href="../../admin_assets/vendors/vectormap-home/vectormap-2.0.2.css" />
    <link rel="stylesheet" href="../../admin_assets/css/metisMenu.css" />
    <link rel="stylesheet" href="../../admin_assets/css/style1.css" />
    <link rel="stylesheet" href="../../admin_assets/css/colors/default.css" id="colorSkinCSS" />
  </head>
  <body class="crm_body_bg">
    <nav class="sidebar">
      <div class="logo d-flex justify-content-between">
        <a class="large_logo" href="/admin/home"
          ><img src="../../user_assets/img/logo.png" alt
        />Timeless Drive</a>
        <a class="small_logo" href="/admin/home"
          ><img src="../../admin_assets/img/mini_logo.png" alt
        /></a>
        <div class="sidebar_close_icon d-lg-none">
          <i class="ti-close"></i>
        </div>
      </div>
      <ul id="sidebar_menu">

        <li class>
          <a class="has-arrow" href="#" aria-expanded="false">
            <div class="nav_icon_small">
              <img src="../../admin_assets/img/menu-icon/4.svg" alt />
            </div>
            <div class="nav_title">
              <span>Staff</span>
            </div>
          </a>
          <ul>
            <li><a href="/admin/staff_list">Staff List</a></li>
            <li><a href="/admin/add_new_staff">Add New Staff</a></li>
          </ul>
        </li>
        <li class>
          <a class="has-arrow" href="#" aria-expanded="false">
            <div class="nav_icon_small">
              <img src="../../admin_assets/img/menu-icon/5.svg" alt />
            </div>
            <div class="nav_title">
              <span>Users</span>
            </div>
          </a>
          <ul>
            <li><a href="/admin/add-new-user">Add New User</a></li>
            <li><a href="/admin/user-list">Users List</a></li>
          </ul>
        </li>
        <li class>
          <a href="/admin/carmanagement" aria-expanded="false">
            <div class="nav_icon_small">
              <img src="../../admin_assets/img/menu-icon/9.svg" alt />
            </div>
            <div class="nav_title">
              <span>Car Management</span>
            </div>
          </a>
        </li>
        <li class>
          <a href="/admin/schedule" aria-expanded="false">
            <div class="nav_icon_small">
              <img src="../../admin_assets/img/menu-icon/10.svg" alt />
            </div>
            <div class="nav_title">
              <span>Calander</span>
            </div>

          </a>
        </li>
        <li class>
          <a href="/admin/feedbacks" aria-expanded="false">
            <div class="nav_icon_small">
              <img src="../../admin_assets/img/menu-icon/10.svg" alt />
            </div>
            <div class="nav_title">
              <span>Feedback History</span>
            </div>
          </a>
        </li>

      </ul>
    </nav>

    <section class="main_content dashboard_part large_header_bg">
      <div class="container-fluid g-0">
        <div class="row">
          <div class="col-lg-12 p-0">
            <div
              class="header_iner d-flex justify-content-between align-items-center"
            >
              <div class="sidebar_icon d-lg-none">
                <i class="ti-menu"></i>
              </div>
              <div class="line_icon open_miniSide d-none d-lg-block">
                <img src="../../admin_assets/img/line_img.png" alt />
              </div>
              <div class="serach_field-area d-flex align-items-center">

              </div>
              <div
                class="header_right d-flex justify-content-between align-items-center"
              >
                <div class="header_notification_warp d-flex align-items-center">


                </div>
                <div class="profile_info">
                  <img src="../../admin_assets/img/client_img.png" alt="#" />
                  <div class="profile_info_iner">
                    <div class="profile_author_name">
                      <p>Neurologist</p>
                      <h5>Dr. Robar Smith</h5>
                    </div>
                    <div class="profile_info_details">
                      <a href="#">My Profile </a>
                      <a href="#">Settings</a>
                      <a href="/admin/logout">Log Out </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="main_content_iner overly_inner">
        <div class="container-fluid p-0">
          <div class="row">
            <div class="col-12">
              <div
                class="page_title_box d-flex flex-wrap align-items-center justify-content-between"
              >
                <div class="page_title_left d-flex align-items-center">
                  <h3 class="f_s_25 f_w_700 dark_text mr_30">Dashboard</h3>
                  <ol class="breadcrumb page_bradcam mb-0">
                    <li class="breadcrumb-item">
                      <a href="javascript:void(0);">Home</a>
                    </li>
                    <li class="breadcrumb-item active">Analytic</li>
                  </ol>
                </div>
                <div class="page_title_right">
                  <div class="page_date_button d-flex align-items-center">
                    <img src="../../admin_assets/img/icon/calender_icon.svg" alt />
                    August 1, 2020 - August 31, 2020
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-8">
              <div class="white_card mb_30 card_height_100" >
                <div class="white_card_header">
                  <div
                    class="row align-items-center justify-content-between flex-wrap"
                  >
                    <div class="col-lg-4">
                      <div class="main-title">
                        <h3 class="m-0">Stoke Details</h3>
                      </div>
                    </div>
                    <div class="col-lg-4 text-end d-flex justify-content-end">
                      <div>
                        <div class="btn btn-primary d-none" onclick="showRevenueByMonth()" id="show-revenue">Show</div>
                      </div>
                      <div>
                        <select class="nice_Select2 max-width-220 d-none" name="month" id="monthSelector"></select>
                      </div>
                      <div>
                        <select class="nice_Select2 max-width-220 d-none" name="year" onchange="showRevenueByYear()" id="yearSelector"></select>
                      </div>
                      <select class="nice_Select2 max-width-220" onchange="changePeriod()" id="period-selector">
                        <option value="1">Show by year</option>
                        <option value="2">Show by month</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="white_card_body">
<!--                  <div id="management_bar"></div>-->
                  <!--  chart starts-->
                  <div>
                    <div id="chart-container"
                         style="width: 100%; height: 100%; margin: 0 auto"></div>
                  </div>
                  <!--chart ends-->
                </div>
              </div>
            </div>
            <div class="col-xl-4">
              <div class="white_card card_height_100 mb_30 user_crm_wrapper">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="../../admin_assets/img/crm/businessman.svg" alt />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4 th:text="${num}"></h4>
                        <p>User Registrations</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_1 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="../../admin_assets/img/crm/customer.svg" alt />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4 th:text="${num}"></h4>
                        <p>User Registrations</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_2 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="../../admin_assets/img/crm/infographic.svg" alt />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4></h4>
                        <p>User Registrations</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_3 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="../../admin_assets/img/crm/sqr.svg" alt />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4></h4>
                        <p>User Registrations</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="crm_reports_bnner">
                  <div class="row justify-content-end">
                    <div class="col-lg-6">
                      <h4>Create CRM Reports</h4>
                      <p>Outlines keep you and honest indulging honest.</p>
                      <a href="#"
                        >Read More <i class="fas fa-arrow-right"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-12">
              <div class="white_card card_height_100 mb_20">
                <div class="white_card_header">
                  <div class="box_header m-0">
                    <div class="main-title">
                      <h3 class="m-0">This Month Post</h3>
                    </div>
                    <div class="header_more_tool">
                      <div class="dropdown">
                        <span
                          class="dropdown-toggle"
                          id="dropdownMenuButton"
                          data-bs-toggle="dropdown"
                        >
                          <i class="ti-more-alt"></i>
                        </span>
                        <div
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdownMenuButton"
                        >
                          <a class="dropdown-item" href="#">
                            <i class="ti-eye"></i> Action</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="ti-trash"></i> Delete</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fas fa-edit"></i> Edit</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="ti-printer"></i> Print</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fa fa-download"></i> Download</a
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <style>
                  .table-responsive {
                    height: 100%;
                    overflow-x: auto;
                  }

                  table {
                    height: 10px;
                  }

                  th,
                  td {
                    white-space: nowrap;
                  }

                </style>
                <div class="white_card_body QA_section">
                  <div class="QA_table">
                    <div class="table-responsive">

                    <table class="table lms_table_active2 p-0">
                      <thead>
                        <tr>
                          <th scope="col">Car Name </th>
                          <th scope="col">Price</th>
                          <th scope="col">Client Name</th>
                          <th scope="col">Post date</th>
                          <th scope="col">Status</th>
                        </tr>
                      </thead>
                      <tbody th:each="post : ${listPost}">
                        <tr>
                          <td>
                            <div class="customer d-flex align-items-center">
                              <div class="thumb_34 mr_15 mt-0">
                                <img
                                        class="img-fluid radius_50"
                                        src="../../admin_assets/img/customers/pro_1.png"
                                        alt
                                        th:src="${post.getCar().getCarImageList().get(0).getContent()}"/>
                              </div>
                              <span class="f_s_12 f_w_600 color_text_5" th:text="${post.getCar().getName()}"/>

                            </div>
                          </td>
                          <td class="f_s_12 f_w_400 color_text_6" th:text="${post.getCar().getPrice()}"></td>
                          <td class="f_s_12 f_w_400 color_text_7" th:text="${post.getClient().getName()}"></td>
                          <td class="f_s_12 f_w_400 color_text_6" th:text="${post.getPostDate()}"></td>
                          <td class="f_s_12 f_w_400 ">
                            <a href="#" class="text_color_1" th:text="${post.getStatus()}"></a>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>


    </section>





    <script src="../../admin_assets/js/jquery1-3.4.1.min.js"></script>

    <script src="../../admin_assets/js/popper1.min.js"></script>

    <script src="../../admin_assets/js/bootstrap1.min.js"></script>

    <script src="../../admin_assets/js/metisMenu.js"></script>





    <script src="../../admin_assets/vendors/vectormap-home/vectormap-2.0.2.min.js"></script>
    <script src="../../admin_assets/vendors/vectormap-home/vectormap-world-mill-en.js"></script>

    <script src="../../admin_assets/vendors/apex_chart/apex-chart2.js"></script>
    <script src="../../admin_assets/vendors/apex_chart/apex_dashboard.js"></script>


    <script src="../../admin_assets/js/dashboard_init.js"></script>
    <script src="../../admin_assets/js/custom.js"></script>

<!--  chart script starts-->
    <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script th:inline="javascript">
      const periodSelector = document.querySelector("#period-selector");
      const yearSelector = document.querySelector("#yearSelector");
      const monthSelector = document.querySelector("#monthSelector");
      const buttonShow = document.querySelector("#show-revenue");

      $(function(){
        changePeriod();
        Highcharts.chart('chart-container', {
          chart: {
            type: 'spline'
          },
          title: {
            text: 'Annual Revenue'
          },

          xAxis: {
            categories: [[${keys}]],
            crosshair: true
          },
          yAxis: {
            min: 0,
            max: [[${maxRevenue}]],
            title: {
              text: 'Revenue (USD)'
            }
          },
          tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">Total: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} USD</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
          },
          plotOptions: {
            column: {
              pointPadding: 0.2,
              borderWidth: 0
            }
          },
          series: [{
            name: 'Month',
            data: [[${values}]]
          }]
        });
      });

      function updateChart(keys, values, title, seriesName){
        Highcharts.chart('chart-container', {
          chart: {
            type: 'spline'
          },
          title: {
            text: title
          },
          xAxis: {
            categories: keys,
            crosshair: true
          },
          yAxis: {
            min: 0,
            max: (Math.max(...values) === 0) ? 1000 : Math.max(...values),
            title: {
              text: 'Revenue (USD)'
            }
          },
          tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">Total: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} USD</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
          },
          plotOptions: {
            column: {
              pointPadding: 0.2,
              borderWidth: 0
            }
          },
          series: [{
            name: seriesName,
            data: values
          }]
        });
      }

      function changePeriod(){
        const value = periodSelector.value;

        switch (value){
          case "1":
            initYearSelector();

            if (!monthSelector.classList.contains("d-none")){
              monthSelector.classList.add("d-none");
            }

            if (!buttonShow.classList.contains("d-none")){
              buttonShow.classList.add("d-none");
            }

            yearSelector.classList.remove("d-none");
            break;
          case "2":
            initYearSelector();
            initMonthSelector();
            yearSelector.classList.remove("d-none");
            monthSelector.classList.remove("d-none");
            buttonShow.classList.remove("d-none")
            break;
        }
      }

      function initYearSelector(){
        yearSelector.innerHTML = '';
        for (let i = 2000; i <= new Date().getFullYear(); i++) {
          let opt = document.createElement("option")
          opt.text = i.toString();
          yearSelector.appendChild(opt);
        }
      }

      function initMonthSelector(){
        monthSelector.innerHTML = '';
        for (let i = 1; i <= 12; i++) {
          let opt = document.createElement("option")
          opt.text = i.toString();
          monthSelector.appendChild(opt);
        }
      }

      function showRevenueByYear(){
        // show revenue by year here
        if (!monthSelector.classList.contains("d-none")){
          if (yearSelector.value == new Date().getFullYear()){
            monthSelector.innerHTML = '';
            for (let i = 1; i <= new Date().getMonth() + 1; i++) {
              let opt = document.createElement("option")
              opt.text = i.toString();
              monthSelector.appendChild(opt);
            }
          }
          return;
        }

        fetch('/admin/show-revenue-by-year/' + yearSelector.value, {
          headers: {
            'Accept': 'application/json'
          }
        })
                .then(response => response.text())
                .then(text => {
                  updateChart(JSON.parse(text)[0], JSON.parse(text)[1], 'Annual Revenue', 'Month');
                });
      }

      function showRevenueByMonth(){
        // show revenue by month here
        fetch('/admin/show-revenue-by-month/' + monthSelector.value + '-' + yearSelector.value, {
          headers: {
            'Accept': 'application/json'
          }
        })
                .then(response => response.text())
                .then(text => {
                  updateChart(JSON.parse(text)[0], JSON.parse(text)[1], 'Monthly Revenue', 'Day');
                });
      }
    </script>

<!--  chart script ends-->
  </body>

  <!-- Mirrored from demo.dashboardpack.com/user-management-html/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 May 2023 06:42:38 GMT -->


</html>
